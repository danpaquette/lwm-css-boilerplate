@import 'settings';

// **************************************************************************
//
// GRID
// 01. Settings
// 02. Row Default
// 03. Row Alignment
// 04. Column Defaults
// 05. Standard Grid
// 06. Tile Grid
// 07. Collapsed Grid
//
// **************************************************************************

// **************************************************************************
//
// 01. Settings
//
// **************************************************************************

$column-count: 12 !default;
$gutter-width: $standard-spacing !default;

// Optional Generators

$generate-grid-debug: true !default;
$generate-order: true !default;
$generate-push-pull: true !default;
$generate-prefix-suffix: true !default;
$generate-collapsed-grid: true !default;

// Tile Grid

$generate-tile-grid: true;
$tile-count: 15;

// **************************************************************************
//
// 02. Row Defaults
//
// **************************************************************************

.row {
	display: flex;
	flex-wrap: wrap;
	align-items: stretch;
	margin-left: -$gutter-width/2;
	margin-right: -$gutter-width/2;
}

// **************************************************************************
//
// 03. Row Alignment
//
// **************************************************************************

.row.align-top {
	align-items: flex-start;
}

.row.align-middle {
	align-items: center;
}

.row.align-bottom {
	align-items: flex-end;
}

.row.align-stretch {
	align-items: stretch;
}

.row.justify-center {
	justify-content: center;
}

.row.justify-left {
	justify-content: flex-start;
}

.row.justify-right {
	justify-content: flex-end;
}

// **************************************************************************
//
// 04. Column Defaults
//
// **************************************************************************

.col {
	width: 100%;
}

.row > .col {
	padding-left: $gutter-width/2;
	padding-right: $gutter-width/2;
}

@if($generate-push-pull) {

	.col.push,
	.col.pull {
		position: relative;
	}
}

// **************************************************************************
//
// 05. Standard Grid
//
// **************************************************************************

@each $media-query-name, $media-query-value in $media-queries {

	@media #{$media-query-value} {

		@for $i from 1 through $column-count {

			// Standard Column

			.col-#{$media-query-name}-#{$i} {
				width: 100%/$column-count*$i;
			}

			// Order

			@if($generate-order) {

				.order-#{$media-query-name}-#{$i} {
					order: #{$i};
				}
			}

			// Push & Pull

			@if($generate-push-pull) {

				.push-#{$media-query-name}-#{$i} {
					right: 100%/$column-count*$i;
				}

				.pull-#{$media-query-name}-#{$i} {
					left: 100%/$column-count*$i;
				}
			}

			// Prefix & Suffix

			@if($generate-prefix-suffix) {

				.prefix-#{$media-query-name}-#{$i} {
					margin-left: 100%/$column-count*$i;
				}

				.suffix-#{$media-query-name}-#{$i} {
					margin-right: 100%/$column-count*$i;
				}
			}
		}
	}
}

// **************************************************************************
//
// 06. Tile Grid
//
// **************************************************************************

@if($generate-tile-grid) {

	.tile {
		display: flex;
		flex-wrap: wrap;
		align-items: stretch;
	}

	.tile.align-top {
		align-items: flex-start;
	}

	.tile.align-middle {
		align-items: center;
	}

	.tile.align-bottom {
		align-items: flex-end;
	}

	.tile.align-stretch {
		align-items: stretch;
	}

	.tile.justify-center {
		justify-content: center;
	}

	.tile.justify-left {
		justify-content: flex-start;
	}

	.tile.justify-right {
		justify-content: flex-end;
	}

	.tile > * {
		display: block;
		width: 100%;
		margin-right: #{$gutter-width};
	}

	@each $media-query-name, $media-query-value in $media-queries {

		@media #{$media-query-value} {

			@for $i from 1 through $tile-count {

				.tile-#{$media-query-name}-#{$i} > * {
					width: calc((100% / #{$i}) + #{$gutter-width} / #{$i} - #{$gutter-width});
				}

				.tile-#{$media-query-name}-#{$i} > *:nth-child(#{$i}n + #{$i}) {
					margin-right: 0;
				}
			}
		}
	}
}

// **************************************************************************
//
// 07. Collapsed Grid
//
// **************************************************************************

@if($generate-collapsed-grid) {

	.row.collapsed {
		margin: 0;
	}

	.row.collapsed > .row {
		padding: 0;
	}
}
